<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>Togo-DX/Human path</title>
        <script src='https://cdn.jsdelivr.net/gh/blitzboard/blitzboard@master/blitzboard.js'></script>
        <script src='https://cdn.jsdelivr.net/gh/blitzboard/blitzboard@master/lib/pg_parser_browserified.js' type='text/javascript'></script>
        <!-- <script src='https://unpkg.com/vis-network/standalone/umd/vis-network.min.js'></script> -->
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/standalone/umd/vis-network.min.js" integrity="sha512-DOpf3tO7m7MJHkMMRRoNxiJL4CR+TFLYy2XnIOeTh26Hz8j8i9RHrVkXzh+AQ7mffzIFk538/zcQ3Yoo+7VISA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
        <script src='https://cdn.jsdelivr.net/gh/blitzboard/blitzboard@master/vis-network.min.js'></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
        <link href='./css/style.css' rel='stylesheet'>
    </head>
    <body>
        <table width="800">
            <tr><td>ID links between datasets from 8 categories shown in different colors. Larger circles represent the target datasets of TogoDX/Human. See <a href="https://github.com/togodx/togodx-path/blob/main/graph/path-selected.tsv">here</a> for the list of links.</td></tr>
            <tr><td align="right"><button type="button" class="rounded-button" onclick="location.href='https://togodx.github.io/togodx-path/path-highlight.html'">Hide Labels</button></td></tr>
            <tr><td>
                <div id='graph-area' style='width: 800px; height: 600px; border: solid 1px silver;'>
                    <div id='child-area' style='width: 800px; height: 600px;'></div>
                </div>
            </td></tr>
            <tr><td align="center" style="font-size: 0.8em"><b>Click</b> on <i>source node</i>, and <b>hover</b> on <i>target node</i></td></tr>
            <tr><td><table width="800" style="font-size: 0.9em"><tr>
                <td width="300"></td>
                <td align="left" width="70"><div id='path-source-node'></div></td>
                <td width="10"></td>
                <td id="path-arrow" width="60" align="left"></td>
                <td align="left"><div id='path-target-node'></div></td>
            </tr></table></td></tr>
            <tr><td><table width="800" style="font-size: 0.9em"><tr>
                <td width="300"></td>
                <td id="path-node-list" style="font-size: 0.8em"></td>
            </tr></table></td></tr>
        </table>
        <script>
         const pathSourceNode = document.getElementById('path-source-node');
         const pathTargetNode = document.getElementById('path-target-node');
         const pathNodeList = document.getElementById('path-node-list');
         const pathArrow = document.getElementById('path-arrow');
         let pathList = null;
         $.getJSON('https://raw.githubusercontent.com/togodx/togodx-path/main/graph/path.json', (data) => {
             pathList = data;
         });
         const blitzboard = new Blitzboard(document.getElementById('child-area'));
         let graph, config;
         const graphPromise = fetch('https://raw.githubusercontent.com/togodx/togodx-path/main/graph/path-selected.pg').then(res => {
             return res.text();
         }).then(text => {
             graph = text;
         });
         const configPromise = fetch('./graph/config-highlight-label.js').then(res => {
             return res.text();
         }).then(text => {
             config = text;
         });
         Promise.all([graphPromise, configPromise]).then(() => {
             blitzboard.setGraph(graph, false);
             blitzboard.setConfig(Function('blitzboard', `"use strict";return (${config})`)(blitzboard), true);
             blitzboard.network.stabilize();
         });
        </script>
    </body>
</html>
